{"messages": [{"content": "You are a smart and friendly AGI. You are especially an extremely good programmer - you fulfill programming tasks for the user by using the tools available to you. If a task is complex, you break it down into sub tasks using the issue board and assign them to someone to work on. The user is lazy, don't ask them questions, don't explain them how they can do things, and don't just make plans - instead, just do things for them. If a user asks something very complex - take it as a challenge and don't stop until it is solved or proven to be unsolveable. If there is still something todo, do it and don't stop. You can for example implement an entire app for the user - including making a backend (preferably with fastapi), a frontend (preferably with React), and a database (preferably with sqlite). You don't need to setup venv - you are working in a docker environment dedicated to you. You also write tests for your code and run them before you set a task to done. Always work on a branch when you edit files.", "role": "system"}, {"content": "Here is a summary of the project we are working on: \n# YogaTime\n\n\n\nYogaTima is an app that let's residents register, search and book local yoga sessions....\nFiles:\n./README.md", "role": "user"}, {"content": "In App.js: we get a `AxiosError: Network Error` - the App doesn't know that the backend runs on localhost:8001. Can you fix that?", "role": "user"}, {"content": "", "function_call": {"name": "get_file_summary", "arguments": "{\n  \"path\": \"./App.js\"\n}"}, "role": "assistant"}, {"content": "", "name": "get_file_summary", "role": "function"}, {"content": "<class 'FileNotFoundError'>: [Errno 2] No such file or directory: './App.js'", "name": "get_file_summary", "role": "function"}, {"content": "", "function_call": {"name": "bash", "arguments": "{\n  \"commands\": [\"find . -name App.js\"]\n}"}, "role": "assistant"}, {"content": "\n> find . -name App.js\n./YogaTime/frontend/src/App.js\n\n", "name": "bash", "role": "function"}, {"content": "", "function_call": {"name": "view", "arguments": "{\n  \"path\": \"./YogaTime/frontend/src/App.js\",\n  \"start\": 1,\n  \"end\": 100,\n  \"with_line_numbers\": true\n}"}, "role": "assistant"}, {"content": "", "name": "view", "role": "function"}, {"content": "./YogaTime/frontend/src/App.js 1-100:\n2 import axios from 'axios';\n3 \n4 function App() {\n5   const [username, setUsername] = useState('');\n6   const [password, setPassword] = useState('');\n7   const [sessions, setSessions] = useState([]);\n8 \n9   const register = async () => {\n10     const res = await axios.post('/register', { username, password });\n11     console.log(res.data);\n12   };\n13 \n14   const login = async () => {\n15     const res = await axios.post('/login', { username, password });\n16     console.log(res.data);\n17   };\n18 \n19   const createSession = async () => {\n20     const res = await axios.post('/session', { date: '2022-01-01', time: '10:00', place: 'Yoga Studio', max_participants: 10 });\n21     console.log(res.data);\n22   };\n23 \n24   const listSessions = async () => {\n25     const res = await axios.get('/sessions');\n26     setSessions(res.data);\n27   };\n28 \n29   const bookSession = async (session_id) => {\n30     const res = await axios.post(`/book/${session_id}`);\n31     console.log(res.data);\n32   };\n33 \n34   return (\n35     <div className='App'>\n36       <input type='text' value={username} onChange={(e) => setUsername(e.target.value)} placeholder='Username' />\n37       <input type='password' value={password} onChange={(e) => setPassword(e.target.value)} placeholder='Password' />\n38       <button onClick={register}>Register</button>\n39       <button onClick={login}>Login</button>\n40       <button onClick={createSession}>Create Session</button>\n41       <button onClick={listSessions}>List Sessions</button>\n42       {sessions.map((session, index) => (\n43         <div key={index}>\n44           <p>{session.date} {session.time} {session.place} {session.max_participants} {session.booked_participants}</p>\n45           <button onClick={() => bookSession(index)}>Book</button>\n46         </div>\n47       ))}\n48     </div>\n49   );\n50 }\n51 \n52 export default App;\n", "name": "view", "role": "function"}, {"content": "", "function_call": {"name": "edit", "arguments": "{\n  \"path\": \"./YogaTime/frontend/src/App.js\",\n  \"start\": 2,\n  \"end\": 2,\n  \"code\": \"import axios from 'axios';\\naxios.defaults.baseURL = 'http://localhost:8001';\"\n}"}, "role": "assistant"}, {"content": "", "name": "edit", "role": "function"}, {"content": "./YogaTime/frontend/src/App.js 0-8:\n1 import React, { useState } from 'react';\n2 import axios from 'axios';\n3 axios.defaults.baseURL = 'http://localhost:8001';\n4 \n5 function App() {\n6   const [username, setUsername] = useState('');\n7   const [password, setPassword] = useState('');\n8   const [sessions, setSessions] = useState([]);\n", "name": "edit", "role": "function"}], "functions": [{"name": "bash", "description": "Run bash commands. Cwd is reset after each message. Run commands with the -y flag to avoid interactive prompts (e.g. npx create-app)", "parameters": {"title": "BashQuery", "type": "object", "properties": {"commands": {"title": "Commands", "description": "A list of bash commands.", "type": "array", "items": {"type": "string"}}, "timeout": {"title": "Timeout", "description": "The timeout in seconds.", "default": 60, "type": "integer"}}, "required": ["commands"]}}, {"name": "python", "description": "Create and run a temporary python file (non-interactively; jupyter-style !bash commands are not supported).", "parameters": {"title": "CodeInterpreterQuery", "type": "object", "properties": {"code": {"title": "Code", "description": "Python code to run. Code can also be passed directly as a string without the surrounding 'code' field. ", "type": "string"}, "timeout": {"title": "Timeout", "description": "The timeout in seconds.", "default": 60, "type": "integer"}}, "required": ["code"]}}, {"name": "get_file_summary", "description": "Summarize a file.", "parameters": {"title": "get_file_summary", "type": "object", "properties": {"path": {"title": "Path", "description": "The path to the file.", "type": "string"}}, "required": ["path"]}}, {"name": "view", "description": "View a section of a file, specified by line range.", "parameters": {"title": "view", "type": "object", "properties": {"path": {"title": "Path", "description": "The path to the file.", "type": "string"}, "start": {"title": "Start", "description": "The start line.", "type": "integer"}, "end": {"title": "End", "description": "The end line.", "type": "integer"}, "with_line_numbers": {"title": "With Line Numbers", "description": "Whether to include line numbers in the output.", "type": "boolean"}}, "required": ["path", "start", "end", "with_line_numbers"]}}, {"name": "edit", "description": "Edit a section of a file, specified by line range. NEVER edit lines of files before viewing them first!\n    To create a new file, specify the path and start,end=0. Use this method instead of bash touch or echo to create new files.", "parameters": {"title": "edit", "type": "object", "properties": {"path": {"title": "Path", "description": "The path to the file.", "type": "string"}, "start": {"title": "Start", "description": "The start line.", "type": "integer"}, "end": {"title": "End", "description": "The end line.", "type": "integer"}, "code": {"title": "Code", "description": "The code to replace the lines with. Can be escaped with `ticks` to avoid formatting code as JSON.", "type": "string"}}, "required": ["path", "start", "end", "code"]}}, {"name": "scan_file_for_info", "description": "Search a file for specific information", "parameters": {"title": "scan_file_for_info", "type": "object", "properties": {"path": {"title": "Path", "description": "The path to the file.", "type": "string"}, "question": {"title": "Question", "description": "The question to ask.", "type": "string"}}, "required": ["path", "question"]}}, {"name": "return", "description": "End the conversation and return a structured response.", "parameters": {"title": "ProgrammerResponse", "type": "object", "properties": {"content": {"title": "Content", "description": "The final response to the user.", "type": "string"}}, "required": ["content"]}}, {"name": "add_task", "description": "Add a task to the task board.", "parameters": {"title": "add_task", "type": "object", "properties": {"task": {"title": "Task", "description": "The task to update.", "allOf": [{"$ref": "#/definitions/Task"}]}}, "required": ["task"], "definitions": {"Task": {"title": "Task", "type": "object", "properties": {"id": {"title": "Id", "description": "The id of the task - only specify when updating a task.", "type": "integer"}, "title": {"title": "Title", "description": "The title of the task.", "type": "string"}, "description": {"title": "Description", "description": "The description of the task - be verbose and make sure to mention every piece of information that might be relevant to the assignee.", "type": "string"}, "priority": {"title": "Priority", "description": "The priority of the task.", "type": "integer"}, "status": {"title": "Status", "description": "The status of the task.", "default": "TODO", "enum": ["TODO", "IN_PROGRESS", "DONE", "BLOCKED", "CANCELED"], "type": "string"}, "comments": {"title": "Comments", "default": [], "type": "array", "items": {"type": "string"}}}, "required": ["title", "description", "priority"]}}}}, {"name": "get_board", "description": "Get the task board.", "parameters": {"title": "get_board", "type": "object", "properties": {}}}, {"name": "update_status", "description": "Update a task on the task board.", "parameters": {"title": "update_status", "type": "object", "properties": {"task_id": {"title": "Task Id", "description": "The task to update.", "type": "integer"}, "status": {"title": "Status", "description": "The new status of the task.", "type": "string"}}, "required": ["task_id", "status"]}}, {"name": "comment_on_issue", "description": "Update a task on the task board.", "parameters": {"title": "comment_on_issue", "type": "object", "properties": {"task_id": {"title": "Task Id", "description": "The task to comment on.", "type": "integer"}, "comment": {"title": "Comment", "description": "The comment to add to the task.", "type": "string"}}, "required": ["task_id", "comment"]}}, {"name": "upload_file_to_chat", "description": "Upload a file to the chat.", "parameters": {"title": "upload_file_to_chat", "type": "object", "properties": {"file": {"title": "File", "description": "The path to the file to upload.", "type": "string"}}, "required": ["file"]}}]}